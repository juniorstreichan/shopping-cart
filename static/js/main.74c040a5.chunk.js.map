{"version":3,"sources":["pages/Cart/components/ButtonRemoveItem.tsx","layout/Content.tsx","layout/Footer.tsx","layout/layout-constants.ts","pages/Cart/components/PopoverCart.tsx","reducers/types.ts","layout/Navbar.tsx","service/CartStorage.ts","reducers/selectors/cartSelectors.ts","reducers/cartReducer.ts","Routes.tsx","App.tsx","serviceWorker.ts","index.tsx","pages/Cart/context/CartContext.ts"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__","ButtonRemoveItem","_ref","onRemove","a","createElement","fluid","size","onClick","color","StyledContent","styled","div","_templateObject","Content","children","react_default","Container","as","StyledFooter","footer","Footer_templateObject","Footer","Header","Icon","name","Subheader","style","href","target","rel","layoutConstants","NAVBAR_HEIGHT","TYPES","PopoverContent","aside","PopoverCart_templateObject","PopoverCart","_useContext","useContext","CartContext","products","removeItem","_useState","useState","_useState2","Object","slicedToArray","isOpen","setIsOpen","haveProducts","length","totalCartValue","map","p","price","reduce","accumulator","currentValue","trigger","Button","Label","circular","ListProducts","useMemo","console","log","product","index","List","Item","key","concat","id","Image","src","imageUrl","floated","toLocaleString","currency","Popup","hideOnScroll","position","on","content","icon","basic","width","wide","open","Segment","react","ordered","divided","verticalAlign","react_router_dom","to","animated","visible","hidden","Navbar","Menu","inverted","fixed","exact","activeStyle","components_PopoverCart","service_CartStorage","JSON","parse","localStorage","getItem","this","error","setItem","stringify","toConsumableArray","getProductsCart","setProductsToCart","arguments","undefined","filter","removeSelect","CartStorage","removeProductOfCart","cartReducer","state","action","type","CART_CLEAR","clearCart","CART_REMOVE","CART_ADD","find","addProductToCart","Home","lazy","e","then","bind","Products","Promise","all","Cart","section","Routes_templateObject","Routes","loader","Routes_StyledContent","Loader","active","inline","fallback","react_router","path","component","render","StyledApp","App_templateObject","initialValues","App","_useReducer","useReducer","_useReducer2","dispatch","Provider","value","addItem","hasInTheCart","layout_Navbar","layout_Content","src_Routes","layout_Footer","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","Helmet_default","titleTemplate","defaultTitle","src_App","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","sw","React","createContext"],"mappings":"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","file":"static/js/main.74c040a5.chunk.js","sourcesContent":["import React, { Fragment } from 'react';\r\nimport { Divider, Button } from 'semantic-ui-react';\r\n\r\nconst ButtonRemoveItem: React.FC<{ onRemove: Function }> = ({ onRemove }) => {\r\n  return (\r\n    <Fragment>\r\n      <b>Tem certeza ?</b>\r\n      <Divider />\r\n      <Button\r\n        fluid\r\n        size=\"mini\"\r\n        onClick={() => {\r\n          onRemove();\r\n        }}\r\n        color=\"blue\"\r\n      >\r\n        Sim\r\n      </Button>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ButtonRemoveItem;\r\n","import React from 'react';\r\nimport { Container } from 'semantic-ui-react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledContent = styled.div`\r\n  min-height: 90vh;\r\n`;\r\n\r\nconst Content: React.FC = ({ children }) => {\r\n  return (\r\n    <Container as=\"main\">\r\n      <StyledContent>{children}</StyledContent>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Header, Icon } from 'semantic-ui-react';\r\n\r\nconst StyledFooter = styled.footer`\r\n  width: 100%;\r\n  min-height: 200px;\r\n  background-color: #f26202;\r\n  margin-top: 30px;\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Footer: React.FC = () => {\r\n  return (\r\n    <StyledFooter>\r\n      <Header as=\"h2\">\r\n        <Icon name=\"cart\" />\r\n        <Header.Content>\r\n          Shopping Cart\r\n          <Header.Subheader>Projeto exemplo carrinho de compras</Header.Subheader>\r\n        </Header.Content>\r\n      </Header>\r\n      <a\r\n        style={{ color: '#000' }}\r\n        href=\"https://github.com/juniorstreichan/shopping-cart/\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        <Icon name=\"github\" size=\"large\" />\r\n      </a>\r\n    </StyledFooter>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","const layoutConstants = {\r\n  NAVBAR_HEIGHT: 80,\r\n};\r\n\r\nexport default layoutConstants;\r\n","import React, { Fragment, useContext, useMemo, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Icon, Image, Label, List, Popup, Segment } from 'semantic-ui-react';\r\nimport styled from 'styled-components';\r\nimport CartContext from '../context/CartContext';\r\nimport CartContextManager from '../context/CartContextManager';\r\nimport ButtonRemoveItem from './ButtonRemoveItem';\r\n\r\nconst PopoverContent = styled.aside`\r\n  max-height: 70vh !important;\r\n  overflow: auto;\r\n\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst PopoverCart: React.FC = () => {\r\n  const { products, removeItem } = useContext<CartContextManager>(CartContext);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const haveProducts = products.length > 0;\r\n  const totalCartValue = haveProducts\r\n    ? products\r\n        .map(p => p.price || 0)\r\n        .reduce((accumulator, currentValue) => accumulator + currentValue)\r\n    : 0;\r\n\r\n  const trigger = (\r\n    <Button fluid color=\"orange\" onClick={() => setIsOpen(!isOpen)}>\r\n      <Icon name={isOpen ? 'caret up' : 'caret down'} />\r\n      <Icon name=\"cart\" />\r\n      {haveProducts && (\r\n        <Label circular color=\"green\" size=\"tiny\">\r\n          {products.length}\r\n        </Label>\r\n      )}\r\n    </Button>\r\n  );\r\n\r\n  const ListProducts = useMemo(() => {\r\n    console.log('ENTROU NO MEMO');\r\n\r\n    return products.map((product, index: number) => (\r\n      <List.Item key={`${index}-PopoverCart-${product.id}`}>\r\n        <Image size=\"tiny\" src={product.imageUrl} />\r\n        <List.Content floated=\"right\">\r\n          <Label>\r\n            {product.price &&\r\n              product.price.toLocaleString('pt-BR', {\r\n                style: 'currency',\r\n                currency: 'BRL',\r\n              })}\r\n          </Label>\r\n        </List.Content>\r\n        <br />\r\n        <List.Content floated=\"right\">\r\n          <Popup\r\n            hideOnScroll\r\n            position=\"left center\"\r\n            on=\"click\"\r\n            content={<ButtonRemoveItem onRemove={() => removeItem(product.id)} />}\r\n            trigger={<Button icon=\"trash\" color=\"red\" size=\"mini\" />}\r\n          />\r\n        </List.Content>\r\n        <List.Content>\r\n          <small>{product.name}</small>\r\n        </List.Content>\r\n      </List.Item>\r\n    ));\r\n  }, [products, removeItem]);\r\n\r\n  return (\r\n    <Popup basic style={{ width: '400px' }} wide trigger={trigger} on=\"click\" open={isOpen}>\r\n      <Segment size=\"massive\" color=\"orange\">\r\n        <strong> Meu Carrinho</strong>\r\n        <br />\r\n        <p>\r\n          <small>\r\n            {haveProducts ? (\r\n              <Fragment>\r\n                {`Quantidade:  `}\r\n                <b>{products.length}</b>\r\n                <br />\r\n                {`Total:  `}\r\n                <b>\r\n                  {totalCartValue.toLocaleString('pt-BR', {\r\n                    style: 'currency',\r\n                    currency: 'BRL',\r\n                  })}\r\n                </b>\r\n              </Fragment>\r\n            ) : (\r\n              <Fragment>\r\n                está vazio ...\r\n                <Icon name=\"leaf\" />\r\n                <Icon name=\"leaf\" />\r\n                <Icon name=\"leaf\" />\r\n              </Fragment>\r\n            )}\r\n          </small>\r\n        </p>\r\n      </Segment>\r\n\r\n      <PopoverContent>\r\n        <List ordered size=\"massive\" divided verticalAlign=\"middle\">\r\n          {ListProducts}\r\n        </List>\r\n      </PopoverContent>\r\n      <Link to={haveProducts ? 'carrinho' : 'produtos'}>\r\n        <Button color=\"green\" fluid animated>\r\n          <Button.Content visible>\r\n            {haveProducts ? 'Finalizar Compra' : 'Ver Produtos'}\r\n          </Button.Content>\r\n          <Button.Content hidden>\r\n            <Icon name={haveProducts ? 'arrow right' : 'arrow left'} />\r\n            <Icon name=\"cart\" />\r\n          </Button.Content>\r\n        </Button>\r\n      </Link>\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default PopoverCart;\r\n","enum TYPES {\r\n  CART_CLEAR,\r\n  CART_ADD,\r\n  CART_REMOVE,\r\n}\r\n\r\nexport default TYPES;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Menu } from 'semantic-ui-react';\r\nimport PopoverCart from '../pages/Cart/components/PopoverCart';\r\n\r\nconst Navbar: React.FC = () => {\r\n  return (\r\n    <Menu inverted fixed=\"top\" size=\"massive\">\r\n      <Menu.Item />\r\n      <Menu.Item>\r\n        <NavLink exact to=\"/\" activeStyle={{ color: 'orange' }}>\r\n          <b>Shopping Cart</b>\r\n        </NavLink>\r\n      </Menu.Item>\r\n\r\n      <Menu.Item position=\"right\">\r\n        <PopoverCart />\r\n      </Menu.Item>\r\n      <Menu.Item />\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import Product from '../pages/Products/Product';\r\n\r\nclass CartStorage {\r\n  private key = 'persist:cart';\r\n\r\n  public getProductsCart(): Product[] {\r\n    try {\r\n      const products = JSON.parse(localStorage.getItem(this.key) || '[]');\r\n      return products;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  private setProductsToCart(products: Product[]): void {\r\n    localStorage.setItem(this.key, JSON.stringify(products || []));\r\n  }\r\n\r\n  public addProductToCart(product: Product): void {\r\n    const products = [...this.getProductsCart(), product];\r\n    this.setProductsToCart(products);\r\n  }\r\n\r\n  public removeProductOfCart(id: string = '0'): void {\r\n    const products = this.getProductsCart().filter(p => p.id !== id);\r\n    this.setProductsToCart(products);\r\n  }\r\n\r\n  public clearCart(): void {\r\n    localStorage.setItem(this.key, '[]');\r\n  }\r\n}\r\nexport default new CartStorage();\r\n","import Product from '../../pages/Products/Product';\r\nimport CartStorage from '../../service/CartStorage';\r\n\r\nexport function clearSelect(): Product[] {\r\n  CartStorage.clearCart();\r\n  return [];\r\n}\r\n\r\nexport function removeSelect(products: Product[], id = ''): Product[] {\r\n  CartStorage.removeProductOfCart(id);\r\n  return products.filter(product => product.id !== id);\r\n}\r\n\r\nexport function addSelect(products: Product[], product?: Product): Product[] {\r\n  if (product && !products.find(p => p.id === product.id)) {\r\n    CartStorage.addProductToCart(product);\r\n    return [...products, product];\r\n  }\r\n  return products;\r\n}\r\n","import Product from '../pages/Products/Product';\r\nimport TYPES from './types';\r\nimport { clearSelect, removeSelect, addSelect } from './selectors/cartSelectors';\r\n\r\ninterface CartAction {\r\n  type: TYPES;\r\n  id?: string;\r\n  product?: Product;\r\n}\r\n\r\ninterface CartState {\r\n  products: Product[];\r\n}\r\n\r\nexport default function cartReducer(state: CartState, action: CartAction): CartState {\r\n  switch (action.type) {\r\n    case TYPES.CART_CLEAR:\r\n      return { products: clearSelect() };\r\n    case TYPES.CART_REMOVE:\r\n      return {\r\n        products: removeSelect(state.products, action.id),\r\n      };\r\n    case TYPES.CART_ADD:\r\n      return {\r\n        products: addSelect(state.products, action.product),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React, { lazy, Suspense } from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Loader } from 'semantic-ui-react';\r\nimport styled from 'styled-components';\r\n\r\nconst Home = lazy(() => import('./pages/Home'));\r\nconst Products = lazy(() => import('./pages/Products'));\r\nconst Cart = lazy(() => import('./pages/Cart'));\r\n\r\nconst StyledContent = styled.section`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 60vh;\r\n`;\r\n\r\nconst Routes: React.FC = () => {\r\n  const loader = (\r\n    <StyledContent>\r\n      <Loader active inline=\"centered\" size=\"massive\">\r\n        CARREGANDO...\r\n      </Loader>\r\n    </StyledContent>\r\n  );\r\n  return (\r\n    <Suspense fallback={loader}>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/produtos\" component={Products} />\r\n        <Route path=\"/carrinho\" exact component={Cart} />\r\n        <Route path=\"*\" render={() => <Redirect to=\"/\" />} />\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useReducer } from 'react';\nimport styled from 'styled-components';\nimport Content from './layout/Content';\nimport Footer from './layout/Footer';\nimport layoutConstants from './layout/layout-constants';\nimport Navbar from './layout/Navbar';\nimport CartContext from './pages/Cart/context/CartContext';\nimport Product from './pages/Products/Product';\nimport cartReducer from './reducers/cartReducer';\nimport TYPES from './reducers/types';\nimport Routes from './Routes';\nimport CartStorage from './service/CartStorage';\n\nconst StyledApp = styled.div`\n  margin-top: ${layoutConstants.NAVBAR_HEIGHT}px;\n`;\n\nconst initialValues = {\n  products: CartStorage.getProductsCart(),\n};\n\nconst App: React.FC = () => {\n  const [state, dispatch] = useReducer(cartReducer, initialValues);\n  function clearCart() {\n    dispatch({ type: TYPES.CART_CLEAR });\n  }\n  function removeItem(id: string = '0'): void {\n    dispatch({ type: TYPES.CART_REMOVE, id });\n  }\n  function addItem(product: Product): void {\n    dispatch({ type: TYPES.CART_ADD, product });\n  }\n\n  function hasInTheCart(product: Product): boolean {\n    return state.products.filter(p => p.id === product.id).length > 0;\n  }\n\n  return (\n    <StyledApp>\n      <CartContext.Provider\n        value={{\n          clearCart,\n          products: state.products,\n          removeItem,\n          addItem,\n          hasInTheCart,\n        }}\n      >\n        <Navbar />\n        <Content>\n          <Routes />\n        </Content>\n        <Footer />\n      </CartContext.Provider>\n    </StyledApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ninterface Config {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Helmet from 'react-helmet';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport App from './App';\nimport './index.css';\nimport * as sw from './serviceWorker';\n\nconst Root: React.FC = () => (\n  <BrowserRouter>\n    <Helmet titleTemplate=\"%s | Shopping Cart\" defaultTitle=\"Shopping Cart\" />\n    <App />\n  </BrowserRouter>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\nsw.register();\n","import React from 'react';\r\nimport Product from '../../Products/Product';\r\nimport CartContextManager from './CartContextManager';\r\n\r\nconst CartContext = React.createContext<CartContextManager>({\r\n  removeItem: (id?: string) => console.log(id),\r\n  addItem: (product: Product) => console.log(product),\r\n  clearCart: () => null,\r\n  hasInTheCart: () => false,\r\n  products: [],\r\n});\r\n\r\nexport default CartContext;\r\n"],"sourceRoot":""}